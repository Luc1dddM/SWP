@using SWP_CarService_Final.Models
@{
    ViewData["Title"] = "view";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
    @model WorkOrder

}

<div class="work-order-detail content main-container">
    <div class="work-order-detail__header">
        <h4>Work Order Detail</h4>
    </div>
    <div class="work-order-detail__container">
        <div class="work-order-detail-task__container">
            <div class="row work-order-detail-header__container">
                <h5 class="col-1 work-order-detail-task__header">ID</h5>
                <h5 class="col-3 work-order-detail-task__header">Services</h5>
                <h5 class="col work-order-detail-task__header">Quantity</h5>
                <h5 class="col work-order-detail-task__header">Amount</h5>
                <h5 class="col work-order-detail-task__header">Status</h5>
                <h5 class="col work-order-detail-task__header">Worker</h5>
                <h5 class="col work-order-detail-task__header">Action</h5>
            </div>

            <div class="work-order-detail-task-item__container">
                @foreach (var WorkOrder in Model.taskDetails)
                {
                    <div class="row work-order-detail-task__item">
                        <div class="col-1 work-order-detail-task__item--ID">@WorkOrder.wod_id</div>
                        <div class="col-3 work-order-detail-task__item--service">
                            <p>@WorkOrder.task.taskName</p>
                        </div>
                        <div class="col work-order-detail-task__item--quantity">@WorkOrder.quantity</div>
                        <div class="col work-order-detail-task__item--amount">@string.Format("{0:C0}", WorkOrder.price).Substring(1)</div>
                        <div class="col work-order-detail-task__item--status active"><span>@WorkOrder.status</span></div>
                        <div class="col work-order-detail-task__item--member"><span>@WorkOrder.User.User_fullname</span></div>
                        <div class="col work-order-detail-task__item--Action">
                            <a href="/user/TaskDetail/delete?taskId=@WorkOrder.wod_id.Trim()&woid=@Model.WorkOrderID.Trim()"><i class="fa-solid fa-trash-can"></i></a>
                            <a style="color: white; text-decoration:none" href="/user/TaskDetail/edit?wodID=@WorkOrder.wod_id">Edit</a>
                        </div>
                    </div>
                }
            </div>
        </div>

        <div class="work-order-detail-component__container">
            <div class="row work-order-detail-component-header__container">
                <h5 class="col-1 work-order-detail-task__header">ID</h5>
                <h5 class="col-3 work-order-detail-task__header">Product</h5>
                <h5 class="col work-order-detail-task__header">Quantity</h5>
                <h5 class="col work-order-detail-task__header">Amount</h5>
                <h5 class="col work-order-detail-task__header"></h5>
                <h5 class="col work-order-detail-task__header">Add By</h5>
                <h5 class="col work-order-detail-task__header">Action</h5>
            </div>

            <div class="work-order-detail-component-item__container">
                @foreach(var component in Model.partDetails)
                {
                    <div class="row work-order-detail-component__item">
                        <div class="col-1 work-order-detail-Component__item--ID">@component.ItemDetailId</div>
                        <div class="col-3 work-order-detail-Component__item--service">
                            <img src="~/img/@component.part.img" alt="">
                            <p>@component.part.part_name</p>
                        </div>
                        <div class="col work-order-detail-component__item--quantity">@component.quantity</div>
                        <div class="col work-order-detail-component__item--amount">@string.Format("{0:C0}", component.price).Substring(1)</div>
                        <div class="col work-order-detail-component__item--null"></div>
                        <div class="col work-order-detail-component__item--status">@component.user.User_fullname</div>
                        <div class="col work-order-detail-component__item__item--Action">
                            <a href="/user/PartDetail/delete?partDetailId=@component.ItemDetailId.Trim()&wodId=@Model.WorkOrderID.Trim()"><i class="fa-solid fa-trash-can"></i></a>
                        </div>
                    </div>
                }
            </div>
        </div>

        <div class="work-order-detail-total">
            Total: @string.Format("{0:C0}", Model.Total).Substring(1)
        </div>
    </div>
</div>

